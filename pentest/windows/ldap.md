# ldap

> Lightweight Directory Access Protocol

## list domain controllers of ad with dns

> The SRV record is a Domain Name System (DNS) resource record that is used to identify computers that host specific services. SRV resource records are used to locate domain controllers for Active Directory. To verify SRV locator resource records for a domain controller, use one of the following methods.

    # method 1
    nslookup
    set type=all
    _ldap._tcp.dc._msdcs.<domain_name>
    
    # method 2: zones and resource records (ad creates its srv records here)
    Forward Lookup Zones/Domain_Name/_msdcs/dc/_sites/Default-First-Site-Name/_tcp
    Forward Lookup Zones/Domain_Name/_msdcs/dc/_tcp
    
    # method 3: dc's (ldap) srv record first record is i.e. _ldap._tcp.domain_name
    notepad.exe %systemroot%\System32\Config\Netlogon.dns

https://docs.microsoft.com/en-us/troubleshoot/windows-server/networking/verify-srv-dns-records-have-been-created

## srv records registered by net logon

    _ldap._tcp.DnsDomainName.
    Allows a client to locate servers running the LDAP service in the domain of DnsDomainName.

    _ldap._tcp. SiteName._sites.
    DnsDomainName.
    Allows a client to locate servers running the LDAP service in a domain in a site SiteName DnsDomainName. SiteName relative file name, which is stored in the Configuration container in Active Directory.

    _ldap._tcp.dc._msdcs.DnsDomainName.
    Allows a client to find a domain controller in the domain DnsDomainName. All DC register this SRV record.

    _ldap._tcp. SiteName. _sites.dc._msdcs.DnsDomainName.
    Allows a client to find a domain controller in the domain in site SiteName DnsDomainName. All DC register this SRV record.

    _ldap._tcp.pdc._msdcs.DnsDomainName.
    Allows a client to find a domain PDC DnsDomainName. Only PDC server registers this SRV record.

    _ldap._tcp.gc._msdcs.DnsForestName.
    Allows a client to find a DC in the forest DnsForestName. Only GC servers register this SRV record.

    _ldap._tcp. SiteName. _sites.gc._msdcs. DnsForestName.
    Allows a client to find a GC in the forest Only GC server DnsForestName. owned by this forest register this SRV record

    _gc._tcp.DnsForestName.
    Allows a client to find a GC in the domain. Only GC servers owned by this forest DnsForestName register this SRV record.

    _gc._tcp.SiteName._sites.DnsForestName.
    Allows a client to find a GC in this forest site SiteName DnsForestName. Only GC servers owned by this forest DnsForestName register this SRV record.

    _ldap._tcp. DomainGuid.domains._msdcs. DnsForestName.
    Allows customers to find the DC GUID. A GUID is a 128-bit unique index. Admits when DnsDomainName DnsForestName and changed.

    _kerberos._tcp. DnsDomainName .
    Allows clients to find a Kerberos KDC in that domain: DnsDomainName. All DC register this SRV record.

    _kerberos._udp. DnsDomainName .
    Same as _kerberos ._tcp. DnsDomainName only over UDP

    _kerberos._tcp.SiteName._sites. DnsDomainName.
    Allows clients to find a Kerberos KDC in that domain: DnsDomainName site SiteName. All DC register this SRV record.

    _kerberos._tcp.dc._msdcs.DnsDomainName.
    Allows clients to find a DC running a Kerberos KDC's role in that domain: DnsDomainName. All DC with the KDC log this SRV record.

    _kerberos.tcp.SiteName._sites.dc._msdcs. DnsDomainName.
    Allows clients to find a DC running a Kerberos KDC's role in that domain: DnsDomainName site SiteName. All DC with the KDC log this SRV record.

    _kpasswd._tcp.DnsDomainName.
    Kerberos Password Change allows you to search for current domain. All kerberos KDC DC (c) role of the register this SRV record

    _kpasswd._udp.DnsDomainName.
    Same as _kpassword ._tcp. DnsDomainName only over UDP

https://social.technet.microsoft.com/wiki/contents/articles/7608.srv-records-registered-by-net-logon.aspx
